# 📚 חלק 3: תכנון REST API למערכת "ספרייה"

## עקרונות תכנון REST API

התכנון מתבסס על ארכיטקטורת REST, המשתמשת בשמות עצם רבים (Nouns) לייצוג משאבים, ובמתודות HTTP (Verbs) לתיאור הפעולה הרצויה (CRUD).

## 1. 📚 משאב ראשי: ספרים (`/books`)

| מתודת HTTP | Endpoint | תיאור הפעולה | נימוק |
| :--- | :--- | :--- | :--- |
| **GET** | `/api/books` | אחזור רשימת כל הספרים (עם אפשרויות סינון). | **Read**: אחזור אוסף. |
| **GET** | `/api/books/{id}` | אחזור פרטים על ספר ספציפי. | **Read**: אחזור פריט בודד. |
| **POST** | `/api/books` | יצירת ספר חדש (כולל פרטים כמו כותרת, מחבר, ISBN). | **Create**: יצירת משאב. |
| **PUT/PATCH** | `/api/books/{id}` | עדכון פרטי ספר קיים. | **Update**: שינוי משאב. |
| **DELETE** | `/api/books/{id}` | מחיקת ספר מהמערכת. | **Delete**: הסרת משאב. |

## 2. 🧑‍🤝‍🧑 משאב משני: משאילים (`/patrons`)

| מתודת HTTP | Endpoint | תיאור הפעולה | נימוק |
| :--- | :--- | :--- | :--- |
| **GET** | `/api/patrons` | אחזור רשימת כל המשאילים הרשומים. | **Read**: אחזור אוסף. |
| **POST** | `/api/patrons` | רישום משאיל חדש. | **Create**: יצירת משאב. |
| **GET** | `/api/patrons/{id}` | אחזור פרטי משאיל ספציפי. | **Read**: אחזור פריט בודד. |

## 3. 🔄 משאב יחסי: השאלות (`/loans`)

משאב זה מייצג את הקשר בין ספר למשאיל ואת הסטטוס העסקי.

| מתודת HTTP | Endpoint | תיאור הפעולה | נימוק |
| :--- | :--- | :--- | :--- |
| **POST** | `/api/loans` | השאלת ספר (Check Out) – יוצר רשומה חדשה של השאלה. | **Create**: יצירת קשר זמני. |
| **PATCH** | `/api/loans/{loanId}/return` | החזרת ספר (Check In) – עדכון הסטטוס של ההשאלה כ"הוחזר". | **Update**: שינוי סטטוס עסקי. |
| **GET** | `/api/patrons/{patronId}/loans` | רשימת הספרים המושאלים כרגע על ידי משאיל זה. | **Read**: אחזור משאב יחסי. |